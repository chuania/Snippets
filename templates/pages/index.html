{% extends 'base.html' %}
{% block content %}
<!-- Begin page content -->
<div class="container">
    <div class="row">
        <div class="col text-center">
            <h1>{{ pagename }}</h1>
            <hr>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <p>Добро пожаловать, уважаемый пользователь!
            <p>На этом сайте ты сможешь сохранить свои заготовки кода на различных языках программирования.<br>
                А также делиться ими с другими пользователями.
                <hr>
        </div>
    </div>

    <div class="row mt-3">
        <div class="col-4 offset-4">
            <a href="{% url 'snippet-add' %}" class="btn btn-secondary btn-block">Добавить сниппет</a>
        </div>
    </div>

    <div class="row mt-3">
        <div class="col">
            <hr>
            <h5>Найти сниппет по номеру</h5>
            <p></p>
            <form action='' method="get">
                <div class="form-group row">
                    <label for="snippet_id" class="col-sm-2 col-form-label col-form-label">Номер:</label>
                    <div class="col-sm-8">
                        <input name="id" type="number" class="form-control " id="snippet_id"
                            placeholder="введите число">
                    </div>
                    <div class="col-sm-2">
                        <button type="submit" class="form-control btn btn-info">Найти</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <table class="table">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col"> ID</th>
                        <th scope="col"> Название</th>
                        <th scope="col">Язык</th>
                        <th scope="col">Автор</th>
                        <th scope="col">Дата создания</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        {% if not snippet.private or snippet.user.id == request.user.id %}
                        <td scope="row">{{ snippet.id}}</td>
                        <td scope="row">{{ snippet.name}}</td>
                        <td scope="row">{{ snippet.lang}}</td>
                        <td scope="row">{{ snippet.user.username}}</td>
                        <td scope="row">{{ snippet.creation_date}}</td>
                        {% else %}
                        <td scope="row">Нет доступа</td>
                        {% endif%}
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}